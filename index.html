<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì œì¡°ì‚¬ ì •ë³´ ê´€ë¦¬</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body{
             font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }
        /* Custom scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        html, body {
            height: 100%;
            overflow: hidden;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <div class="bg-white border-b border-gray-200 px-6 py-4">
        <div class="flex items-center justify-between">
            <h1 class="text-xl font-bold text-gray-900">ì œì¡°ì‚¬ ì •ë³´ ê´€ë¦¬</h1>
            <div class="text-sm text-gray-500">
                HOME &gt; ê´€ë¦¬ì &gt; ì½”ë“œê´€ë¦¬ &gt; <span class="font-medium text-gray-900">ì œì¡°ì‚¬ì •ë³´</span>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="flex" style="height: calc(100vh - 73px);">
        <!-- Left Panel: Manufacturer List (500px) -->
        <div class="w-[500px] bg-white border-r border-gray-200 flex flex-col h-full">
            <!-- Search & Filter Header -->
            <div class="p-4 border-b border-gray-200 shrink-0">
                <div class="flex items-center justify-between mb-3">
                    <h2 class="font-semibold text-gray-800 flex items-center gap-2">
                        <span class="w-2 h-2 bg-blue-500 rounded-full"></span>
                        ì œì¡°ì‚¬ ëª©ë¡
                    </h2>
                    <span id="manufacturerCount" class="text-xs text-gray-400">ì´ 20ê°œ</span>
                </div>

                <!-- Search & Status Filter -->
                <div class="flex gap-2 mb-3">
                    <div class="relative flex-1">
                        <input
                            type="text"
                            id="searchInput"
                            placeholder="ì œì¡°ì‚¬ëª… ë˜ëŠ” URL ê²€ìƒ‰..."
                            class="w-full border border-gray-300 rounded px-3 py-2 pl-9 text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"
                        />
                        <svg class="w-4 h-4 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                    </div>
                    <select
                        id="statusFilter"
                        class="border border-gray-300 rounded px-3 py-2 text-sm focus:outline-none"
                    >
                        <option value="all">ì „ì²´</option>
                        <option value="active">ì‚¬ìš©ì¤‘</option>
                        <option value="inactive">íì§€</option>
                    </select>
                </div>

                <!-- Action Buttons -->
                <div class="flex gap-2">
                    <button
                        id="deleteSelectedBtn"
                        class="px-3 py-1.5 border border-gray-300 text-gray-400 rounded text-xs font-medium"
                        disabled
                    >
                        ì‚­ì œ (0)
                    </button>
                    <button
                        id="addNewBtn"
                        class="px-3 py-1.5 bg-blue-500 text-white rounded text-xs font-medium hover:bg-blue-600"
                    >
                        + ì‹ ê·œë“±ë¡
                    </button>
                </div>
            </div>

            <!-- Manufacturer Table -->
            <div class="flex-1 overflow-y-auto custom-scrollbar">
                <table class="w-full text-sm">
                    <thead class="bg-gray-50 sticky top-0">
                        <tr>
                            <th class="w-8 py-2 px-2 border-b border-gray-200">
                                <input type="checkbox" id="selectAllCheckbox" class="w-4 h-4 rounded" />
                            </th>
                            <th class="py-2 px-2 text-left text-gray-600 border-b">ì œì¡°ì‚¬</th>
                            <th class="py-2 px-2 text-center text-gray-600 border-b w-16">ìƒíƒœ</th>
                            <th class="py-2 px-2 text-center text-gray-600 border-b w-16">ì •ë ¬</th>
                        </tr>
                    </thead>
                    <tbody id="manufacturerTableBody">
                        <!-- Manufacturers will be rendered here -->
                    </tbody>
                </table>

                <!-- Empty State -->
                <div id="emptyState" class="hidden flex items-center justify-center h-40 text-gray-400">
                    <div class="text-center">
                        <svg class="w-12 h-12 mx-auto mb-2 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                        </svg>
                        <p class="text-sm">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</p>
                    </div>
                </div>
            </div>

            <!-- Pagination -->
            <div id="paginationContainer" class="p-3 border-t border-gray-200 flex items-center justify-between bg-gray-50 shrink-0">
                <span id="paginationInfo" class="text-xs text-gray-500">1-10 / 20ê±´</span>
                <div id="paginationButtons" class="flex items-center gap-1">
                    <!-- Pagination buttons will be rendered here -->
                </div>
            </div>
        </div>

        <!-- Right Panel: Detail -->
        <div id="rightPanel" class="flex-1 bg-gray-50 flex flex-col h-full overflow-hidden">
            <!-- Empty State (No Selection) -->
            <div id="noSelectionState" class="flex-1 flex items-center justify-center bg-gray-50 text-gray-400">
                <div class="text-center">
                    <svg class="w-20 h-20 mx-auto mb-4 text-gray-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
                    </svg>
                    <p class="text-lg font-medium text-gray-500 mb-2">ì œì¡°ì‚¬ë¥¼ ì„ íƒí•˜ì„¸ìš”</p>
                    <p class="text-sm">ì™¼ìª½ ëª©ë¡ì—ì„œ ì œì¡°ì‚¬ë¥¼ ì„ íƒí•˜ë©´<br/>ìƒì„¸ ì •ë³´ë¥¼ í¸ì§‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</p>
                </div>
            </div>

            <!-- Detail Content -->
            <div id="detailContent" class="hidden flex-1 flex flex-col h-full overflow-hidden">
                <!-- Header -->
                <div class="bg-white border-b border-gray-200 px-6 py-4 shrink-0">
                    <h2 id="detailManufacturerName" class="text-lg font-bold text-gray-900">ì œì¡°ì‚¬ëª…</h2>
                </div>

                <!-- Detail Form -->
                <div class="flex-1 overflow-y-auto p-6 space-y-6 custom-scrollbar">
                    <!-- ê¸°ë³¸ ì •ë³´ Card -->
                    <div class="bg-white rounded-lg border border-gray-200 p-5">
                        <h3 class="text-sm font-semibold text-gray-800 mb-4 flex items-center gap-2">
                            <span class="w-1 h-4 bg-blue-500 rounded"></span>ê¸°ë³¸ ì •ë³´
                        </h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm text-gray-600 mb-1">
                                    ë©”ì´ì»¤ëª… <span class="text-red-500">*</span>
                                </label>
                                <input
                                    type="text"
                                    id="manufacturerName"
                                    placeholder="ì œì¡°ì‚¬ëª…ì„ ì…ë ¥í•˜ì„¸ìš”"
                                    class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"
                                />
                            </div>
                            <div>
                                <label class="block text-sm text-gray-600 mb-1">URL</label>
                                <input
                                    type="text"
                                    id="manufacturerUrl"
                                    placeholder="https://www.example.com"
                                    class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"
                                />
                            </div>
                        </div>
                    </div>

                    <!-- ë¡œê³  Card -->
                    <div class="bg-white rounded-lg border border-gray-200 p-5">
                        <h3 class="text-sm font-semibold text-gray-800 mb-4 flex items-center gap-2">
                            <span class="w-1 h-4 bg-green-500 rounded"></span>ë¡œê³ 
                        </h3>
                        <div class="flex items-start gap-4">
                            <div id="logoPreview" class="w-32 h-20 bg-gray-100 rounded border border-gray-200 flex items-center justify-center">
                                <span class="text-4xl">ğŸ¢</span>
                            </div>
                            <div class="flex-1">
                                <div class="flex items-center gap-2 mb-2">
                                    <label class="px-4 py-2 bg-blue-500 text-white rounded text-sm font-medium hover:bg-blue-600 cursor-pointer">
                                        íŒŒì¼ ì„ íƒ
                                        <input type="file" class="hidden" accept="image/*" />
                                    </label>
                                    <button id="deleteLogoBtn" class="hidden px-4 py-2 border border-red-500 text-red-500 rounded text-sm font-medium hover:bg-red-50">
                                        ì‚­ì œ
                                    </button>
                                </div>
                                <p id="logoFilename" class="text-xs text-gray-400">ë“±ë¡ëœ ë¡œê³ ê°€ ì—†ìŠµë‹ˆë‹¤</p>
                                <p class="text-xs text-gray-400 mt-1">ê¶Œì¥ ì‚¬ì´ì¦ˆ: 200x80px, PNG/GIF/JPG</p>
                            </div>
                        </div>
                    </div>

                    <!-- ì„¤ì • Card -->
                    <div class="bg-white rounded-lg border border-gray-200 p-5">
                        <h3 class="text-sm font-semibold text-gray-800 mb-4 flex items-center gap-2">
                            <span class="w-1 h-4 bg-purple-500 rounded"></span>ì„¤ì •
                        </h3>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm text-gray-600 mb-1">íì§€ì¼ì</label>
                                <input
                                    type="date"
                                    id="endDate"
                                    class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"
                                />
                                <p class="text-xs text-gray-400 mt-1">íì§€ì¼ìê°€ ì§€ë‚˜ë©´ ìë™ìœ¼ë¡œ ë¹„í™œì„±í™”ë©ë‹ˆë‹¤</p>
                            </div>
                            <div>
                                <label class="block text-sm text-gray-600 mb-1">ì •ë ¬ìˆœì„œ</label>
                                <input
                                    type="number"
                                    step="0.1"
                                    id="sortOrder"
                                    class="w-full border border-gray-300 rounded px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"
                                />
                            </div>
                            <div>
                                <label class="block text-sm text-gray-600 mb-1">í˜„ì¬ ìƒíƒœ</label>
                                <div class="flex items-center h-[38px]">
                                    <span id="statusBadge" class="px-3 py-1 rounded text-sm font-medium bg-green-100 text-green-600">
                                        ì‚¬ìš©ì¤‘
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Footer Buttons -->
                <div class="bg-white border-t border-gray-200 px-6 py-4 shrink-0 flex items-center justify-between">
                    <button
                        id="deleteManufacturerBtn"
                        class="px-4 py-2 border border-red-500 text-red-500 rounded text-sm font-medium hover:bg-red-50"
                    >
                        ì‚­ì œ
                    </button>
                    <div class="flex gap-2">
                        <button
                            id="resetBtn"
                            class="px-4 py-2 border border-gray-300 text-gray-700 rounded text-sm font-medium hover:bg-gray-50"
                        >
                            ì´ˆê¸°í™”
                        </button>
                        <button
                            id="saveBtn"
                            class="px-6 py-2 bg-blue-500 text-white rounded text-sm font-medium hover:bg-blue-600"
                        >
                            ì €ì¥
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Data
        let manufacturerList = [
            { id: 1, name: 'T G.', url: 'http://www.trigem.co.kr', logo: 'tg_logo.gif', logoPreview: 'ğŸ¢', endDate: '2100-12-31', sort: 1 },
            { id: 2, name: 'TG&Co.', url: 'http://www.tgnco.kr/main/main.jspa', logo: '', logoPreview: 'ğŸ¢', endDate: '2026-12-31', sort: 2 },
            { id: 3, name: 'EPSON', url: 'http://www.epson.co.kr', logo: '', logoPreview: 'ğŸ–¨ï¸', endDate: '2030-12-31', sort: 3.3 },
            { id: 4, name: 'FUJI XEROX', url: 'http://xeroxsvc.co.kr', logo: '', logoPreview: 'ğŸ–¨ï¸', endDate: '2026-12-31', sort: 3.5 },
            { id: 5, name: 'ASUS', url: 'https://www.asus.com/kr/', logo: '', logoPreview: 'ğŸ’»', endDate: '2030-12-31', sort: 5 },
            { id: 6, name: 'Sindoh', url: 'https://www.sindoh.com/index.do?uk=ko', logo: 'sindoh_logo.gif', logoPreview: 'ğŸ–¨ï¸', endDate: '2100-01-01', sort: 5.3 },
            { id: 7, name: 'Huawei', url: 'http://consumer.huawei.com/kr/', logo: '', logoPreview: 'ğŸ“±', endDate: '2030-12-12', sort: 5.5 },
            { id: 8, name: 'ZTE', url: 'http://wwwen.zte.com.cn/en/', logo: 'zte_logo.gif', logoPreview: 'ğŸ“±', endDate: '2100-10-10', sort: 6 },
            { id: 9, name: 'ì†Œë‹ˆëª¨ë°”ì¼', url: 'http://sonyericsson.diocean.co.kr/', logo: 'xperia_logo.gif', logoPreview: 'ğŸ“±', endDate: '2100-12-31', sort: 7 },
            { id: 10, name: 'ë°€ë ˆì‹œìŠ¤í…', url: 'http://www.milre.com/index.php', logo: '', logoPreview: 'ğŸ”', endDate: '2020-08-31', sort: 7.2 },
            { id: 11, name: 'Lenovo', url: 'http://www.lenovo.com', logo: '', logoPreview: 'ğŸ’»', endDate: '2030-12-31', sort: 7.5 },
            { id: 12, name: 'Amway', url: 'http://www.amway.co.kr/index.html', logo: '', logoPreview: 'ğŸª', endDate: '2030-12-31', sort: 7.7 },
            { id: 13, name: 'TGì£¼ë³€ê¸°ê¸°', url: 'http://www.trigem.co.kr', logo: 'tg_logo.gif', logoPreview: 'ğŸ¢', endDate: '2100-12-31', sort: 8 },
            { id: 14, name: 'EZViZ', url: 'https://www.ezviz.com/kr', logo: 'ezviz_logo.gif', logoPreview: 'ğŸ“¹', endDate: '2030-01-20', sort: 9.5 },
            { id: 15, name: 'Samsung', url: 'https://www.samsung.com/kr/', logo: 'samsung_logo.gif', logoPreview: 'ğŸ“±', endDate: '2100-12-31', sort: 10 },
            { id: 16, name: 'LG', url: 'https://www.lg.com/kr/', logo: 'lg_logo.gif', logoPreview: 'ğŸ“º', endDate: '2100-12-31', sort: 11 },
            { id: 17, name: 'HP', url: 'https://www.hp.com/kr/', logo: 'hp_logo.gif', logoPreview: 'ğŸ–¨ï¸', endDate: '2028-06-30', sort: 12 },
            { id: 18, name: 'Dell', url: 'https://www.dell.com/kr/', logo: 'dell_logo.gif', logoPreview: 'ğŸ’»', endDate: '2029-12-31', sort: 13 },
            { id: 19, name: 'Acer', url: 'https://www.acer.com/kr/', logo: '', logoPreview: 'ğŸ’»', endDate: '2027-03-15', sort: 14 },
            { id: 20, name: 'MSI', url: 'https://www.msi.com/kr/', logo: 'msi_logo.gif', logoPreview: 'ğŸ®', endDate: '2100-12-31', sort: 15 },
        ];

        // State
        let searchKeyword = '';
        let statusFilter = 'all';
        let currentPage = 1;
        const ITEMS_PER_PAGE = 10;
        let selectedManufacturer = null;
        let selectedRows = [];

        // Get today's date
        const today = new Date().toISOString().split('T')[0];

        // Get status
        function getStatus(endDate) {
            return endDate >= today ? 'active' : 'inactive';
        }

        // Filter manufacturers
        function getFilteredManufacturers() {
            return manufacturerList.filter(m => {
                const matchSearch = !searchKeyword ||
                    m.name.toLowerCase().includes(searchKeyword.toLowerCase()) ||
                    m.url.toLowerCase().includes(searchKeyword.toLowerCase());
                const status = getStatus(m.endDate);
                const matchStatus = statusFilter === 'all' ||
                    (statusFilter === 'active' && status === 'active') ||
                    (statusFilter === 'inactive' && status === 'inactive');
                return matchSearch && matchStatus;
            });
        }

        // Get paginated manufacturers
        function getPaginatedManufacturers() {
            const filtered = getFilteredManufacturers();
            const start = (currentPage - 1) * ITEMS_PER_PAGE;
            const end = start + ITEMS_PER_PAGE;
            return filtered.slice(start, end);
        }

        // Render manufacturer table
        function renderManufacturerTable() {
            const tbody = document.getElementById('manufacturerTableBody');
            const emptyState = document.getElementById('emptyState');
            const filtered = getFilteredManufacturers();
            const paginated = getPaginatedManufacturers();

            if (paginated.length === 0) {
                tbody.innerHTML = '';
                emptyState.classList.remove('hidden');
            } else {
                emptyState.classList.add('hidden');
                tbody.innerHTML = paginated.map(manufacturer => {
                    const status = getStatus(manufacturer.endDate);
                    const isSelected = selectedManufacturer && selectedManufacturer.id === manufacturer.id;
                    const isChecked = selectedRows.includes(manufacturer.id);

                    return `
                        <tr
                            class="manufacturer-row border-b border-gray-100 cursor-pointer transition-colors ${isSelected ? 'bg-blue-50' : 'hover:bg-gray-50'}"
                            data-manufacturer-id="${manufacturer.id}"
                        >
                            <td class="py-2 px-2 text-center" onclick="event.stopPropagation()">
                                <input
                                    type="checkbox"
                                    class="manufacturer-checkbox w-4 h-4 rounded"
                                    data-manufacturer-id="${manufacturer.id}"
                                    ${isChecked ? 'checked' : ''}
                                />
                            </td>
                            <td class="py-2 px-2">
                                <div class="flex items-center gap-2">
                                    <span class="text-lg">${manufacturer.logoPreview}</span>
                                    <div class="min-w-0">
                                        <p class="font-medium truncate ${
                                            isSelected ? 'text-blue-700' : 
                                            status === 'inactive' ? 'text-gray-400' : 'text-gray-800'
                                        }">
                                            ${manufacturer.name || '(ì´ë¦„ ì—†ìŒ)'}
                                        </p>
                                        <p class="text-xs text-gray-400 truncate">${manufacturer.url}</p>
                                    </div>
                                </div>
                            </td>
                            <td class="py-2 px-2 text-center">
                                <span class="px-2 py-0.5 rounded text-xs font-medium ${
                                    status === 'active'
                                        ? 'bg-green-100 text-green-600'
                                        : 'bg-gray-100 text-gray-500'
                                }">
                                    ${status === 'active' ? 'ì‚¬ìš©' : 'íì§€'}
                                </span>
                            </td>
                            <td class="py-2 px-2 text-center text-xs text-gray-500">
                                ${manufacturer.sort}
                            </td>
                        </tr>
                    `;
                }).join('');
            }

            // Update count
            document.getElementById('manufacturerCount').textContent = `ì´ ${filtered.length}ê°œ`;

            // Render pagination
            renderPagination();

            // Update select all checkbox
            const selectAllCheckbox = document.getElementById('selectAllCheckbox');
            selectAllCheckbox.checked = paginated.length > 0 && paginated.every(m => selectedRows.includes(m.id));
        }

        // Render pagination
        function renderPagination() {
            const filtered = getFilteredManufacturers();
            const totalPages = Math.ceil(filtered.length / ITEMS_PER_PAGE);
            const paginationContainer = document.getElementById('paginationContainer');
            const paginationButtons = document.getElementById('paginationButtons');
            const paginationInfo = document.getElementById('paginationInfo');

            if (totalPages <= 1) {
                paginationContainer.classList.add('hidden');
                return;
            }

            paginationContainer.classList.remove('hidden');

            // Update info
            const start = (currentPage - 1) * ITEMS_PER_PAGE + 1;
            const end = Math.min(currentPage * ITEMS_PER_PAGE, filtered.length);
            paginationInfo.textContent = `${start}-${end} / ${filtered.length}ê±´`;

            // Generate page buttons
            const maxVisible = 5;
            let startPage = Math.max(1, currentPage - Math.floor(maxVisible / 2));
            let endPage = Math.min(totalPages, startPage + maxVisible - 1);
            
            if (endPage - startPage + 1 < maxVisible) {
                startPage = Math.max(1, endPage - maxVisible + 1);
            }

            const pages = [];
            for (let i = startPage; i <= endPage; i++) {
                pages.push(i);
            }

            paginationButtons.innerHTML = `
                <button
                    class="pagination-btn px-2 py-1 text-xs rounded ${currentPage === 1 ? 'text-gray-300' : 'text-gray-600 hover:bg-gray-100'}"
                    data-page="first"
                    ${currentPage === 1 ? 'disabled' : ''}
                >
                    &laquo;
                </button>
                <button
                    class="pagination-btn px-2 py-1 text-xs rounded ${currentPage === 1 ? 'text-gray-300' : 'text-gray-600 hover:bg-gray-100'}"
                    data-page="prev"
                    ${currentPage === 1 ? 'disabled' : ''}
                >
                    &lt;
                </button>
                ${pages.map(p => `
                    <button
                        class="pagination-btn px-2.5 py-1 text-xs rounded ${p === currentPage ? 'bg-blue-500 text-white' : 'text-gray-600 hover:bg-gray-100'}"
                        data-page="${p}"
                    >
                        ${p}
                    </button>
                `).join('')}
                <button
                    class="pagination-btn px-2 py-1 text-xs rounded ${currentPage === totalPages ? 'text-gray-300' : 'text-gray-600 hover:bg-gray-100'}"
                    data-page="next"
                    ${currentPage === totalPages ? 'disabled' : ''}
                >
                    &gt;
                </button>
                <button
                    class="pagination-btn px-2 py-1 text-xs rounded ${currentPage === totalPages ? 'text-gray-300' : 'text-gray-600 hover:bg-gray-100'}"
                    data-page="last"
                    ${currentPage === totalPages ? 'disabled' : ''}
                >
                    &raquo;
                </button>
            `;
        }

        // Select manufacturer
        function selectManufacturer(manufacturerId) {
            selectedManufacturer = manufacturerList.find(m => m.id === manufacturerId);
            if (!selectedManufacturer) return;

            // Show detail panel
            document.getElementById('noSelectionState').classList.add('hidden');
            document.getElementById('detailContent').classList.remove('hidden');

            // Update detail
            updateDetailPanel();

            // Re-render table to show selection
            renderManufacturerTable();
        }

        // Update detail panel
        function updateDetailPanel() {
            if (!selectedManufacturer) return;

            // Update title
            document.getElementById('detailManufacturerName').textContent = selectedManufacturer.name || 'ìƒˆ ì œì¡°ì‚¬';

            // Update form
            document.getElementById('manufacturerName').value = selectedManufacturer.name;
            document.getElementById('manufacturerUrl').value = selectedManufacturer.url;
            document.getElementById('endDate').value = selectedManufacturer.endDate;
            document.getElementById('sortOrder').value = selectedManufacturer.sort;

            // Update logo
            const logoPreview = document.getElementById('logoPreview');
            logoPreview.innerHTML = selectedManufacturer.logoPreview ? 
                `<span class="text-4xl">${selectedManufacturer.logoPreview}</span>` :
                '<span class="text-gray-400 text-xs">ë¡œê³  ì—†ìŒ</span>';
            
            document.getElementById('logoFilename').textContent = selectedManufacturer.logo || 'ë“±ë¡ëœ ë¡œê³ ê°€ ì—†ìŠµë‹ˆë‹¤';
            document.getElementById('deleteLogoBtn').classList.toggle('hidden', !selectedManufacturer.logo);

            // Update status badge
            const status = getStatus(selectedManufacturer.endDate);
            const statusBadge = document.getElementById('statusBadge');
            if (status === 'active') {
                statusBadge.className = 'px-3 py-1 rounded text-sm font-medium bg-green-100 text-green-600';
                statusBadge.textContent = 'ì‚¬ìš©ì¤‘';
            } else {
                statusBadge.className = 'px-3 py-1 rounded text-sm font-medium bg-gray-100 text-gray-500';
                statusBadge.textContent = 'íì§€ë¨';
            }
        }

        // Update delete button
        function updateDeleteButton() {
            const btn = document.getElementById('deleteSelectedBtn');
            if (selectedRows.length > 0) {
                btn.disabled = false;
                btn.classList.remove('border-gray-300', 'text-gray-400');
                btn.classList.add('border-red-500', 'text-red-500', 'hover:bg-red-50');
                btn.textContent = `ì‚­ì œ (${selectedRows.length})`;
            } else {
                btn.disabled = true;
                btn.classList.add('border-gray-300', 'text-gray-400');
                btn.classList.remove('border-red-500', 'text-red-500', 'hover:bg-red-50');
                btn.textContent = 'ì‚­ì œ (0)';
            }
        }

        // Event listeners
        function setupEventListeners() {
            // Search
            document.getElementById('searchInput').addEventListener('input', (e) => {
                searchKeyword = e.target.value;
                currentPage = 1;
                renderManufacturerTable();
            });

            // Status filter
            document.getElementById('statusFilter').addEventListener('change', (e) => {
                statusFilter = e.target.value;
                currentPage = 1;
                renderManufacturerTable();
            });

            // Select all manufacturers
            document.getElementById('selectAllCheckbox').addEventListener('change', (e) => {
                const paginated = getPaginatedManufacturers();
                const pageIds = paginated.map(m => m.id);
                
                if (e.target.checked) {
                    selectedRows = [...new Set([...selectedRows, ...pageIds])];
                } else {
                    selectedRows = selectedRows.filter(id => !pageIds.includes(id));
                }
                
                updateDeleteButton();
                renderManufacturerTable();
            });

            // Manufacturer row click
            document.addEventListener('click', (e) => {
                const row = e.target.closest('.manufacturer-row');
                if (row) {
                    const manufacturerId = parseInt(row.dataset.manufacturerId);
                    selectManufacturer(manufacturerId);
                }
            });

            // Manufacturer checkbox
            document.addEventListener('change', (e) => {
                if (e.target.classList.contains('manufacturer-checkbox')) {
                    const manufacturerId = parseInt(e.target.dataset.manufacturerId);
                    if (e.target.checked) {
                        selectedRows.push(manufacturerId);
                    } else {
                        selectedRows = selectedRows.filter(id => id !== manufacturerId);
                    }
                    updateDeleteButton();
                }
            });

            // Pagination
            document.addEventListener('click', (e) => {
                if (e.target.classList.contains('pagination-btn')) {
                    const page = e.target.dataset.page;
                    const filtered = getFilteredManufacturers();
                    const totalPages = Math.ceil(filtered.length / ITEMS_PER_PAGE);

                    if (page === 'first') {
                        currentPage = 1;
                    } else if (page === 'prev') {
                        currentPage = Math.max(1, currentPage - 1);
                    } else if (page === 'next') {
                        currentPage = Math.min(totalPages, currentPage + 1);
                    } else if (page === 'last') {
                        currentPage = totalPages;
                    } else {
                        currentPage = parseInt(page);
                    }

                    renderManufacturerTable();
                }
            });

            // Delete selected manufacturers
            document.getElementById('deleteSelectedBtn').addEventListener('click', () => {
                if (selectedRows.length === 0) return;
                if (confirm(`ì„ íƒí•œ ${selectedRows.length}ê°œì˜ ì œì¡°ì‚¬ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)) {
                    manufacturerList = manufacturerList.filter(m => !selectedRows.includes(m.id));
                    if (selectedManufacturer && selectedRows.includes(selectedManufacturer.id)) {
                        selectedManufacturer = null;
                        document.getElementById('noSelectionState').classList.remove('hidden');
                        document.getElementById('detailContent').classList.add('hidden');
                    }
                    selectedRows = [];
                    updateDeleteButton();
                    renderManufacturerTable();
                }
            });

            // Add new manufacturer
            document.getElementById('addNewBtn').addEventListener('click', () => {
                const newManufacturer = {
                    id: Date.now(),
                    name: '',
                    url: '',
                    logo: '',
                    logoPreview: 'ğŸ†•',
                    endDate: '2100-12-31',
                    sort: manufacturerList.length + 1
                };
                manufacturerList.push(newManufacturer);
                
                // Go to last page
                const filtered = getFilteredManufacturers();
                currentPage = Math.ceil(filtered.length / ITEMS_PER_PAGE);
                
                selectManufacturer(newManufacturer.id);
                renderManufacturerTable();
            });

            // Manufacturer info changes
            ['manufacturerName', 'manufacturerUrl', 'endDate', 'sortOrder'].forEach(id => {
                document.getElementById(id).addEventListener('change', (e) => {
                    if (!selectedManufacturer) return;
                    
                    let value = e.target.value;
                    
                    if (id === 'manufacturerName') {
                        selectedManufacturer.name = value;
                    } else if (id === 'manufacturerUrl') {
                        selectedManufacturer.url = value;
                    } else if (id === 'endDate') {
                        selectedManufacturer.endDate = value;
                        // Update status badge
                        const status = getStatus(value);
                        const statusBadge = document.getElementById('statusBadge');
                        if (status === 'active') {
                            statusBadge.className = 'px-3 py-1 rounded text-sm font-medium bg-green-100 text-green-600';
                            statusBadge.textContent = 'ì‚¬ìš©ì¤‘';
                        } else {
                            statusBadge.className = 'px-3 py-1 rounded text-sm font-medium bg-gray-100 text-gray-500';
                            statusBadge.textContent = 'íì§€ë¨';
                        }
                    } else if (id === 'sortOrder') {
                        selectedManufacturer.sort = parseFloat(value);
                    }

                    // Update in list
                    manufacturerList = manufacturerList.map(m => m.id === selectedManufacturer.id ? selectedManufacturer : m);
                    document.getElementById('detailManufacturerName').textContent = selectedManufacturer.name || 'ìƒˆ ì œì¡°ì‚¬';
                    renderManufacturerTable();
                });
            });

            // Delete logo
            document.getElementById('deleteLogoBtn').addEventListener('click', () => {
                if (!selectedManufacturer) return;
                selectedManufacturer.logo = '';
                manufacturerList = manufacturerList.map(m => m.id === selectedManufacturer.id ? selectedManufacturer : m);
                updateDetailPanel();
            });

            // Delete manufacturer
            document.getElementById('deleteManufacturerBtn').addEventListener('click', () => {
                if (!selectedManufacturer) return;
                if (confirm('ì´ ì œì¡°ì‚¬ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                    manufacturerList = manufacturerList.filter(m => m.id !== selectedManufacturer.id);
                    selectedManufacturer = null;
                    document.getElementById('noSelectionState').classList.remove('hidden');
                    document.getElementById('detailContent').classList.add('hidden');
                    renderManufacturerTable();
                }
            });

            // Reset
            document.getElementById('resetBtn').addEventListener('click', () => {
                if (!selectedManufacturer) return;
                const original = manufacturerList.find(m => m.id === selectedManufacturer.id);
                if (original) {
                    selectedManufacturer = {...original};
                    updateDetailPanel();
                }
            });

            // Save
            document.getElementById('saveBtn').addEventListener('click', () => {
                alert('ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
            });
        }

        // Initialize
        function init() {
            renderManufacturerTable();
            setupEventListeners();
        }

        // Run on load
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>